"use strict";(self.webpackChunkblog_github_io=self.webpackChunkblog_github_io||[]).push([[8713],{1872:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var t=s(4848),o=s(8453),a=s(343);const i={sidebar_position:1,tags:["Python","Develop","Django"],title:"channels",description:"\u4ecb\u7ecd channels",sidebar_label:"channels",slug:"/develop/python/django/module/1"},c="channels",l={id:"develop/Python/Django/Django \u7ec4\u4ef6/1",title:"channels",description:"\u4ecb\u7ecd channels",source:"@site/docs/develop/Python/Django/Django \u7ec4\u4ef6/1.md",sourceDirName:"develop/Python/Django/Django \u7ec4\u4ef6",slug:"/develop/python/django/module/1",permalink:"/docs/develop/python/django/module/1",draft:!1,unlisted:!1,tags:[{label:"Python",permalink:"/docs/tags/python"},{label:"Develop",permalink:"/docs/tags/develop"},{label:"Django",permalink:"/docs/tags/django"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,tags:["Python","Develop","Django"],title:"channels",description:"\u4ecb\u7ecd channels",sidebar_label:"channels",slug:"/develop/python/django/module/1"},sidebar:"developSidebar",previous:{title:"Django \u7ec4\u4ef6",permalink:"/docs/category/django-\u7ec4\u4ef6"}},r={},d=[{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"websocket \u6536\u53d1\u6570\u636e",id:"websocket-\u6536\u53d1\u6570\u636e",level:2},{value:"\u7fa4\u804a",id:"\u7fa4\u804a",level:2},{value:"\u7b80\u6613\u5b9e\u73b0",id:"\u7b80\u6613\u5b9e\u73b0",level:3},{value:"\u5b8c\u7f8e\u5b9e\u73b0",id:"\u5b8c\u7f8e\u5b9e\u73b0",level:3},{value:"\u95ee\u9898",id:"\u95ee\u9898",level:2},{value:"Cannot import ASGI_APPLICATION module &#39;MSF.asgi&#39;",id:"cannot-import-asgi_application-module-msfasgi",level:3},{value:"TypeError: &#39;module&#39; object is not callable",id:"typeerror-module-object-is-not-callable",level:3},{value:"403 \u9519\u8bef",id:"403-\u9519\u8bef",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"channels",children:"channels"}),"\n",(0,t.jsx)(a.A,{title:"Django Channels - Channels 4.0.0 dockmentation",description:"Django Channels - Channels 4.0.0 dockmentation",imageUrl:"https://channels.readthedocs.io/favicon.ico",linkUrl:"https://channels.readthedocs.io/en/latest/index.html"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Django \u9ed8\u8ba4\u4e0d\u652f\u6301 websocket \u9700\u8981\u5b89\u88c5\u5bf9\u5e94\u7684\u7ec4\u4ef6 channels daphne\n\u5b66\u4e60\u7248\u672c : ",(0,t.jsx)(n.code,{children:"Django=5.0.3"})," ",(0,t.jsx)(n.code,{children:"channels=3.0.2"})]})}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="webSocket/settings.py"',children:"INSTALLED_APPS = [\n    'daphne', # \u5c06\u8fd9\u4e2a\u653e\u5728\u7b2c\u4e00\u4f4d\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'channels'\t# \u7b2c\u4e00\u6b65 : \u6ce8\u518c channels\n]\n\n# \u7b2c\u4e8c\u6b65: \u6dfb\u52a0 asgi_application, \u5bf9\u5e94\u7684\u8fd9\u4e2a asgi \u5176\u5b9e\u662f asgi.py \u6587\u4ef6\n# ASGI_APPLICATION = 'APP.asgi.application'\nASGI_APPLICATION = 'webSocket.asgi.application'\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="webSocket/asgi.py"',children:"import os\nfrom django.core.asgi import get_asgi_application\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom . import routing\n\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'webSocket.settings')\n\n# application = get_asgi_application()\napplication = ProtocolTypeRouter({\n    \"http\": get_asgi_application(),\n    \"websocket\" : URLRouter(routing.websocket_urlpatterns),\n})\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="webSocket/routing.py"',children:'from django.urls import re_path\nfrom app01 import consumers\n\nwebsocket_urlpatterns = [\n    re_path(r"ws/(?P<group>\\w+)/$", consumers.ChatConsumer.as_asgi()),\n]\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="app01/consumers.py"',children:'from channels.generic.websocket import WebsocketConsumer\nfrom channels.exceptions import StopConsumer\nfrom asgiref.sync import async_to_sync\n\nclass ChatConsumer(WebsocketConsumer):\n    def websocket_connect(self, message):\n        # \u6709\u5ba2\u6237\u7aef\u5411\u540e\u7aef\u53d1\u9001 websocket \u8fde\u63a5\u65f6\u81ea\u52a8\u89e6\u53d1\n        # \u63a5\u6536 URL \u4f20\u6765\u7684\u53c2\u6570\n        # \u63a5\u6536\u5ba2\u6237\u7aef\u8fde\u63a5\n        self.accept()\n\n    def websocket_disconnect(self, message):\n        # \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u65ad\u5f00\u8fde\u63a5\u65f6, \u81ea\u52a8\u89e6\u53d1\n        raise StopConsumer()\n\n\n    def websocket_receive(self, message):\n        # \u6d4f\u89c8\u5668\u57fa\u4e8e websocket \u5148\u540e\u7aef\u53d1\u9001\u6570\u636e, \u81ea\u52a8\u89e6\u53d1\u7528\u4e8e\u63a5\u6536\u5ba2\u6237\u7aef\u6d88\u606f\n        print(message)\n        self.send("\u4e0d\u8981\u56de\u590d\u4e0d\u8981\u56de\u590d")\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u968f\u540e\u542f\u52a8\u5bf9\u5e94\u7684\u7a0b\u5e8f, \u770b\u5230\u4e0b\u9762\u7684\u6807\u8bc6\u5c31\u8868\u793a\u6210\u529f\u4e86"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240613110935.png",alt:"20240613110935"})}),"\n",(0,t.jsx)(n.h2,{id:"websocket-\u6536\u53d1\u6570\u636e",children:"websocket \u6536\u53d1\u6570\u636e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-index.html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n    <style>\n        .message {\n            height: 300px;\n            border: 1px solid #dddddd;\n            width: 100%;\n        }\n    </style>\n</head>\n<body>\n    <div class="message" id="message"></div>\n        <div>\n            <input type="text" placeholder="\u8bf7\u8f93\u5165" id="txt">\n            <input type="button" value="i*" onclick="sendMessage();">\n            <input type="button" value="\u9000\u51fa" onclick="closeConn();">\n        </div>\n\n  <script>\n        // 1. \u5b9e\u4f8b\u5316\u4e00\u4e2a webSocket \u5bf9\u8c61\n        socket = new WebSocket("ws://127.0.0.1:4000/ws/admin/")\n\n        // 2. \u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f\u7ed9\u670d\u52a1\u7aef\n        function sendMessage(){\n            socket.send(document.getElementById(\'txt\').value)\n        }\n\n        // 3. \u5f53 websocket \u5ba2\u6237\u7aef\u63a5\u6536\u670d\u52a1\u7aef\u6d88\u606f\u65f6, \u81ea\u52a8\u89e6\u53d1\n        socket.onmessage = function (event) {\n            let tag = document.createElement("div")\n            tag.innerText = event.data\n            document.getElementById("message").appendChild(tag)\n        }\n\n        // \u5f53\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u521a\u521b\u5efa\u597d\u4e4b\u540e\u81ea\u52a8\u89e6\u53d1\n        socket.onopen = function (event){\n            let tag = document.createElement("div")\n            tag.innerText = "[\u8fde\u63a5\u6210\u529f]"\n            document.getElementById("message").appendChild(tag)\n        }\n\n        function closeConn(){\n            socket.close()\n        }\n\n    <\/script>\n\n</body>\n</html>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="app01/consumers.py"',children:'# -*- coding: utf-8 -*-\n"""\n-------------------------------------------------\n   Author :         14894\n   date :           2024/3/16\n   File Name :      consumers.py\n   Description :    \n"""\nfrom channels.generic.websocket import WebsocketConsumer\nfrom channels.exceptions import StopConsumer\nfrom asgiref.sync import async_to_sync\n\nclass ChatConsumer(WebsocketConsumer):\n    def websocket_connect(self, message):\n        # \u6709\u5ba2\u6237\u7aef\u5411\u540e\u7aef\u53d1\u9001 websocket \u8fde\u63a5\u65f6\u81ea\u52a8\u89e6\u53d1\n        # \u63a5\u6536\u5ba2\u6237\u7aef\u8fde\u63a5\n        print("\u6709\u4eba\u8bbf\u95ee\u4e86")\n        self.accept()\n\n        # \u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f\n        self.send("\u6765\u4e86\u5440\u5ba2\u5b98")\n\n    def websocket_disconnect(self, message):\n        # \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u65ad\u5f00\u8fde\u63a5\u65f6, \u81ea\u52a8\u89e6\u53d1\n        print("{}\u65ad\u5f00\u8fde\u63a5".format(message))\n        raise StopConsumer()\n\n\n    def websocket_receive(self, message):\n        # \u6d4f\u89c8\u5668\u57fa\u4e8e websocket \u5148\u540e\u7aef\u53d1\u9001\u6570\u636e, \u81ea\u52a8\u89e6\u53d1\u7528\u4e8e\u63a5\u6536\u5ba2\u6237\u7aef\u6d88\u606f\n        # \u53d1\u9001 123 , \u63a5\u6536\u5230\u7684\u6d88\u606f: {\'type\': \'websocket.receive\', \'text\': \'123\'}\n        print("\u63a5\u6536\u5230\u6d88\u606f--\x3e", message)\n        self.send("{} SB".format(message))\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u7fa4\u804a",children:"\u7fa4\u804a"}),"\n",(0,t.jsx)(n.h3,{id:"\u7b80\u6613\u5b9e\u73b0",children:"\u7b80\u6613\u5b9e\u73b0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n    <style>\n        .message {\n            height: 300px;\n            border: 1px solid #dddddd;\n            width: 100%;\n        }\n    </style>\n</head>\n<body>\n    <div class="message" id="message"></div>\n        <div>\n            <input type="text" placeholder="\u8bf7\u8f93\u5165" id="txt">\n            <input type="button" value="i*" onclick="sendMessage();">\n            <input type="button" value="\u9000\u51fa" onclick="closeConn();">\n        </div>\n\n  <script>\n        // 1. \u5b9e\u4f8b\u5316\u4e00\u4e2a webSocket \u5bf9\u8c61\n        socket = new WebSocket("ws://127.0.0.1:4000/room/admin/")\n\n        // 2. \u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f\u7ed9\u670d\u52a1\u7aef\n        function sendMessage(){\n            socket.send(document.getElementById(\'txt\').value)\n        }\n\n        // 3. \u5f53 websocket \u5ba2\u6237\u7aef\u63a5\u6536\u670d\u52a1\u7aef\u6d88\u606f\u65f6, \u81ea\u52a8\u89e6\u53d1\n        socket.onmessage = function (event) {\n            let tag = document.createElement("div")\n            tag.innerText = event.data\n            document.getElementById("message").appendChild(tag)\n        }\n\n        // \u5f53\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u521a\u521b\u5efa\u597d\u4e4b\u540e\u81ea\u52a8\u89e6\u53d1\n        socket.onopen = function (event){\n            let tag = document.createElement("div")\n            tag.innerText = "[\u8fde\u63a5\u6210\u529f]"\n            document.getElementById("message").appendChild(tag)\n        }\n\n        function closeConn(){\n            socket.close()\n        }\n\n\n\n    <\/script>\n\n</body>\n</html>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:'# -*- coding: utf-8 -*-\n"""\n-------------------------------------------------\n   Author :         14894\n   date :           2024/3/17\n   File Name :      consumers.py\n   Description :    \n"""\nfrom channels.generic.websocket import WebsocketConsumer\nfrom channels.exceptions import StopConsumer\n\nCONN_LIST = []\n\nclass ChatConsumer(WebsocketConsumer):\n    def websocket_connect(self, message):\n        # \u6709\u5ba2\u6237\u7aef\u5411\u540e\u7aef\u53d1\u9001 websocket \u8fde\u63a5\u65f6\u81ea\u52a8\u89e6\u53d1\n        # \u63a5\u6536\u5ba2\u6237\u7aef\u8fde\u63a5\n        print("\u6709\u4eba\u8bbf\u95ee\u4e86")\n        self.accept()\n        CONN_LIST.append(self)\n\n    def websocket_disconnect(self, message):\n        # \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u65ad\u5f00\u8fde\u63a5\u65f6, \u81ea\u52a8\u89e6\u53d1\n        print("{}\u65ad\u5f00\u8fde\u63a5".format(message))\n        raise StopConsumer()\n\n\n    def websocket_receive(self, message):\n        # \u6d4f\u89c8\u5668\u57fa\u4e8e websocket \u5148\u540e\u7aef\u53d1\u9001\u6570\u636e, \u81ea\u52a8\u89e6\u53d1\u7528\u4e8e\u63a5\u6536\u5ba2\u6237\u7aef\u6d88\u606f\n        # \u53d1\u9001 123 , \u63a5\u6536\u5230\u7684\u6d88\u606f: {\'type\': \'websocket.receive\', \'text\': \'123\'}\n        print("\u63a5\u6536\u5230\u6d88\u606f--\x3e", message)\n        for item in CONN_LIST:\n            item.send("{} SB".format(message))\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5b8c\u7f8e\u5b9e\u73b0",children:"\u5b8c\u7f8e\u5b9e\u73b0"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.code,{children:"setting.py"})," \u4e2d\u6dfb\u52a0\u4e00\u5904\u8bbe\u7f6e, \u8fd9\u9879\u8bbe\u7f6e\u7684\u4f5c\u7528\u662f\u7ef4\u62a4\u5ba2\u6237\u7aef\u8fde\u63a5\u5e76\u5c06\u5176\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="setting.py"',children:'CHANNEL_LAYERS = {\n    "default": {\n        "BACKEND": "channels.layers.InMemoryChannelLayer",\n    }\n}\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:'# -*- coding: utf-8 -*-\n"""\n-------------------------------------------------\n   Author :         14894\n   date :           2024/3/17\n   File Name :      consumers.py\n   Description :    \n"""\nfrom channels.generic.websocket import WebsocketConsumer\nfrom channels.exceptions import StopConsumer\nfrom asgiref.sync import async_to_sync\n\nclass ChatConsumer(WebsocketConsumer):\n    def websocket_connect(self, message):\n\n        # \u83b7\u53d6\u7fa4\u53f7\n        group = self.scope["url_route"]["kwargs"].get("group")\n        print(group)\n        # \u5c06\u5ba2\u6237\u7aef\u8fde\u63a5\u5bf9\u8c61\u52a0\u5165\u5230\u67d0\u4e2a\u5730\u65b9 [\u5185\u5b58 / redis]\n        #self.channel_layer.group_add("\u7fa4\u53f7\u540d\u79f0", self.channel_name)\n        # \u4f7f\u7528 async_to_sync \u5c06\u5f02\u6b65\u529f\u80fd\u8f6c\u6362\u4e3a\u540c\u6b65\u529f\u80fd\n        async_to_sync(self.channel_layer.group_add)(group, self.channel_name)\n        self.accept()\n\n    def websocket_disconnect(self, message):\n        # \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u65ad\u5f00\u8fde\u63a5\u65f6, \u81ea\u52a8\u89e6\u53d1\n        print("\u65ad\u5f00\u8fde\u63a5")\n        group = self.scope["url_route"]["kwargs"].get("group")\n        async_to_sync(self.channel_layer.group_discard)(group, self.channel_name)\n        raise StopConsumer()\n\n\n    def websocket_receive(self, message):\n        # \u6d4f\u89c8\u5668\u57fa\u4e8e websocket \u5148\u540e\u7aef\u53d1\u9001\u6570\u636e, \u81ea\u52a8\u89e6\u53d1\u7528\u4e8e\u63a5\u6536\u5ba2\u6237\u7aef\u6d88\u606f\n        # \u53d1\u9001 123 , \u63a5\u6536\u5230\u7684\u6d88\u606f: {\'type\': \'websocket.receive\', \'text\': \'123\'}\n        print("\u63a5\u6536\u5230\u6d88\u606f--\x3e", message)\n        group = self.scope["url_route"]["kwargs"].get("group")\n        #self.channel_layer.send(group, {\'messgae\': \'123\'})\n        print(self.channel_layer)\n        # \u5411 00001 \u7ec4\u5185\u7684\u6240\u6709\u5ba2\u6237\u7aef, \u6267\u884c xxx_oo \u65b9\u6cd5, \u5728 xxx_oo \u65b9\u6cd5\u4e2d\u5b9a\u4e49\u5bf9\u5e94\u529f\u80fd\n        # async_to_sync(self.channel_layer.group_send)(group, {\'messgae\': \'123\'})\n        async_to_sync(self.channel_layer.group_send)(group, {\'type\': \'send.message\', \'message\': message})\n\n    def send_message(self, event):\n        inputdata = event[\'message\']["text"]\n        print("\u53d1\u9001\u4f60")\n        self.send(inputdata)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u95ee\u9898",children:"\u95ee\u9898"}),"\n",(0,t.jsx)(n.h3,{id:"cannot-import-asgi_application-module-msfasgi",children:"Cannot import ASGI_APPLICATION module 'MSF.asgi'"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=R20_mZuijKc",children:"Cannot import ASGI_APPLICATION module 'mysite.asgi' | Django Python"}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240613111427.png",alt:"20240613111427"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ASGI_APPLICATION = 'myapp.asgi.application'\n                        |\n                        |\nASGI_APPLICATION = 'myapp.settings'\n\n# asgi.py \u5c06 asgi.py \u8fd9\u91cc\u7684\u914d\u7f6e\u66ff\u6362\u4e0a\u9762\u7684\u5c31\u53ef\u4ee5\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myapp.settings')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"typeerror-module-object-is-not-callable",children:"TypeError: 'module' object is not callable"}),"\n",(0,t.jsx)(n.p,{children:"\u5178\u578b\u7279\u5f81 : \u65e0\u8bba\u8bf7\u6c42\u4ec0\u4e48\u90fd\u662f 500"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240613111514.png",alt:"20240613111514"})}),"\n",(0,t.jsx)(n.h3,{id:"403-\u9519\u8bef",children:"403 \u9519\u8bef"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/77302591/forbidden-api-v1-token-logout-post-api-v1-token-logout-http-1-1-403-58",children:'Forbidden: /api/v1/token/logout/ "POST /api/v1/token/logout/ HTTP/1.1" 403 58'})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u4ecb\u7ecd : \u5728\u505a\u67d0\u4e2a\u9879\u76ee\u65f6, \u53d1\u73b0\u65e0\u8bba\u6211\u600e\u4e48\u8bf7\u6c42\u90fd\u662f 403 , \u4f46\u662f\u6211\u7684\u4ee3\u7801\u7f16\u5199\u6ca1\u6709\u4efb\u4f55\u95ee\u9898"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240613111603.png",alt:"20240613111603"})}),"\n",(0,t.jsx)(n.p,{children:"\u95ee\u9898:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CSRF \u95ee\u9898"}),"\n",(0,t.jsx)(n.li,{children:"\u914d\u7f6e\u95ee\u9898 (\u6211\u7684\u5c31\u662f\u8fd9\u4e2a\u95ee\u9898)"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="setting.py"',children:"MIDDLEWARE = [\n    'corsheaders.middleware.CorsMiddleware',\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    #'django.middleware.csrf.CsrfViewMiddleware', # \u6ce8\u91ca\u6b64\u884c\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSESS':(\n        'rest_framework.authentication.TokenAuthentication',\n    ),\n    'DEFAULT_PERMISSION_CLASSESS':(\n        'rest_framework.permissions.IsAuthenticated',\n    )\n}\n"})})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},343:(e,n,s)=>{s.d(n,{A:()=>g});s(6540);const t="cardContainer_NSpA",o="cardImg_IJlj",a="content_UCA7",i="cardButton_iiBo",c="divider_Pzdx";var l=s(4164),r=s(8774),d=s(5238),p=s(6347),m=s(4848);const g=e=>{let{title:n,description:s,imageUrl:g,linkUrl:u}=e;const h=(0,p.W6)();let f=s;if(f.length>65){const e=f.lastIndexOf(" ",65);f=-1!==e?f.substring(0,e)+"...":f.substring(0,65)+"..."}return(0,m.jsxs)("div",{className:(0,l.A)("cardContainer",t),onClick:()=>{h.push(u)},children:[(0,m.jsx)("img",{className:(0,l.A)("img",o),src:g,alt:n}),(0,m.jsx)("div",{className:(0,l.A)("divider",c)}),(0,m.jsxs)("div",{className:(0,l.A)("content",a),children:[(0,m.jsx)("h2",{children:n}),(0,m.jsxs)("p",{children:[f,(0,m.jsxs)(r.A,{to:u,className:(0,l.A)(i),children:[" ",(0,m.jsx)(d.ifP,{})]})]})]})]})}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var t=s(6540);const o={},a=t.createContext(o);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);