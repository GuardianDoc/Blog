---
sidebar_position: 3
title: 配置文档
description: Docusurus 的配置文档
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# 配置文档
对于本站点的配置主要参考 [技术笔记](https://imroc.cc/note/) 进行设置, 根据个人需要进行灵活配置
## plugin-image-zoom
单击图片放大插件，效果：
![](https://raw.githubusercontent.com/flexanalytics/plugin-image-zoom/master/img/zoom_example.gif)

<Tabs>
  <TabItem value="bash" label="安装命令" default>
    ```bash
    npm install --save flexanalytics/plugin-image-zoom
    ```
  </TabItem>
  <TabItem value="js" label="配置">
    ```ts title="docusaurus.config.ts"
     plugins: [
      'plugin-image-zoom',
    ],
    ```
  </TabItem>
</Tabs>



## 修改首页方框内容
![20240519001713](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240519001713.png)
修改上述图片中使用红框标识的部分, 前往 `src/pages/index.tsx` 中进行修改
```tsx
function HomepageHeader() {
  const {siteConfig} = useDocusaurusContext();
  return (
    <header className={clsx('hero hero--primary', styles.heroBanner)}>
      <div className="container">
        <Heading as="h1" className="hero__title">
          {siteConfig.title}
        </Heading>
        <p className="hero__subtitle">{siteConfig.tagline}</p>
        <div className={styles.buttons}>
          <Link
            className="button button--secondary button--lg"
            to="/docs/intro">
            // highlight-next-line
            Docusaurus Tutorial - 5min ⏱️ 
          </Link>
        </div>
      </div>
    </header>
  );
}
```
## 顶栏下拉框
有时候需要在顶部栏中添加下拉框进行示例, 所以需要对 `docusaurus.config.ts` 文件进行一些修改
```ts
const config: Config = {
  themeConfig: {
    label: 'Docs',
    position: 'left',
    items: [
      {
        label: 'Tutorial',
        to: 'docs/intro',
      },
      {
        label: 'API',
        to: 'docs/api',
      },
      {
        label: 'Guides',
        to: 'docs/guides',
      },
    ],
  }
}
```
## 修改 / 页面的图片
![20240522160101](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240522160101.png)
```css title="src/pages/index.module.css"
.heroBanner {
  padding: 4rem 0;
  text-align: center;
  position: relative;
  overflow: hidden;
  color: white; 
    background-image:
        linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
        url(./img/test.png);
    background-size: cover;
}
```
## Github 部署
### 部署项目
在本地创建好 Docusaurus 网站, 随后在 Github 创建对应的存储库
:::tip
GitHub 会将命名为 `.github.io` 的仓库视为一个用户或组织的 GitHub Pages 站点。这意味着该仓库将被用于托管静态网站，并通过 GitHub Pages 服务自动部署到一个特定的域名。
所以如果你是第一个 GitHub Pages 站点,此仓库名称为 `username.github.io` , 如果有多个请查看 [多仓库部署](#多仓库部署) 
:::

之后, 前往 Github 个人设置界面创建一个 TOKEN

![20240526101631](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240526101631.png)

随后, 前往对应的仓库, 设置仓库的相关内容, 将刚刚获取到的 Token 设置到其中, 名字就不要变了,后面会用到的

![20240526101803](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240526101803.png)

将文件同步到 Github 仓库中, 并创建一个分支 `gh-branch` , 之后再创建一个新的文件

```yml title=".github\workflows\documentation.yml"
# Copyright 2022 zhaoguoxing
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
name: Deploy Arden Github pages
on:
  push:
    branches:
      - main
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@main
      with:
        persist-credentials: false
    - name: Install and Build
      run: |
        npm install
        npm run-script build 
    - name: Deploy
      uses: JamesIves/github-pages-deploy-action@releases/v3
      with:
        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
        BRANCH: gh-branch
        FOLDER: build
        BUILD_SCRIPT: npm install && npm run build
```
再进行一次同步操作, 随后再次前往设置操作界面进行再一次的配置, 随后你就会发现 `Action` 开始部署了, 如果你访问不到网站, 可以尝试重新运行 `Github Action`

![20240526102115](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240526102115.png)

### 多仓库部署
如果你有两个相同的网站想要部署在 Github 上， 你可以按照原本的的流程制作， 比如一个是 `user.github.io` 而另一个可以将存储库设置为 `Blog` 这样的名称，同时修改 `Blog` 存储库中的 `docusaurus.config.ts` 
![20240525185210](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240525185210.png)

之后进行部署就可以了， 效果如下：

![20240525185241](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240525185241.png)

:::tip
所以没必要买域名， 我傻逼还买了一个域名，真的是亏麻了
:::

### 绑定自定义域名
我是在阿里云买的 `.top` 域名, 10 年花费 188 元, 还是很值的但是需要定好自己的顶级域名不然很贵, 不需要买其他的服务, 也没有什么内容,之后使用 cloudflare 的 DNS, 具体教程可以看下面两个视频
- [Github王炸功能Pages,免费免服务器上线网站,详细教程](https://www.bilibili.com/video/BV12H4y1N7Q4/)
- [如何低成本获得一个域名，托管Cloudflare免费DNS](https://www.bilibili.com/video/BV1Mz421e76M/)
- [如何给你的网站套上Cloudflare（以阿里云为例）](https://blog.csdn.net/zhyl8157121/article/details/100551592)

如果你有两个要部署的网站, 但是不知道怎么部署, 你可以参考我的内容, 其实和正常部署一样

![20240526002553](https://raw.githubusercontent.com/Guardian-JTZ/Image/main/img/20240526002553.png)